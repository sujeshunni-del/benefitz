<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- UPDATE TITLE PER PAGE -->
    <title>Country Program | Better Call Immigration</title>
    <meta name="description" content="Visa and residency services for skilled and unskilled workers.">

    <!-- FONTS & ICONS -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@200;300;400;500;600;700;800&family=Noto+Sans+Malayalam:wght@400;700&family=Noto+Sans+Tamil:wght@400;700&family=Noto+Sans+Sinhala:wght@400;700&family=Noto+Sans+Devanagari:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <!-- LIBRARIES -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lenis@1.0.45/dist/lenis.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.8.0/vanilla-tilt.min.js"></script>

    <!-- TAILWIND CONFIG -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Plus Jakarta Sans', 'Noto Sans Malayalam', 'Noto Sans Tamil', 'Noto Sans Sinhala', 'Noto Sans Devanagari', 'sans-serif'],
                    },
                    colors: {
                        glass: { border: 'rgba(255, 255, 255, 0.4)', surface: 'rgba(255, 255, 255, 0.1)' },
                        mat: { red: '#FF1744', indigo: '#3D5AFE', teal: '#00E5FF', yellow: '#FFEA00', pink: '#F50057', blue: '#2979FF', lightGreen: '#00E676', amber: '#FFC400', purple: '#D500F9', deepOrange: '#FF3D00' },
                    },
                    animation: {
                        'blob': 'blob 20s infinite alternate',
                        'float': 'float 6s ease-in-out infinite',
                        'fade-in-up': 'fadeInUp 0.5s ease-out forwards'
                    },
                    keyframes: {
                        blob: {
                            '0%': { transform: 'translate(0, 0) scale(1)' },
                            '33%': { transform: 'translate(50px, -50px) scale(1.1)' },
                            '66%': { transform: 'translate(-20px, 20px) scale(0.9)' },
                            '100%': { transform: 'translate(0, 0) scale(1)' },
                        },
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-15px)' },
                        },
                        fadeInUp: {
                            '0%': { opacity: '0', transform: 'translateY(20px)' },
                            '100%': { opacity: '1', transform: 'translateY(0)' },
                        }
                    }
                }
            }
        }
    </script>

    <!-- CORE STYLES -->
    <style>
        :root { --glass-border: 1px solid rgba(255, 255, 255, 0.25); }
        body {
            background-color: #f0f9ff;
            background: radial-gradient(ellipse at 60% 40%, rgba(255, 255, 255, 0.8) 0%, transparent 60%),
                        radial-gradient(circle at 0% 0%, rgba(186, 230, 253, 0.8) 0%, transparent 50%),
                        radial-gradient(circle at 100% 100%, rgba(232, 121, 249, 0.4) 0%, transparent 50%),
                        linear-gradient(135deg, #e0f2fe 0%, #eef2ff 50%, #fce7f3 100%);
            background-attachment: fixed;
            background-size: cover;
            color: #1e293b;
            font-family: 'Plus Jakarta Sans', sans-serif;
            overflow-x: hidden;
            min-height: 100vh;
        }
        .glass-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.6), rgba(255, 255, 255, 0.1));
            backdrop-filter: blur(40px) saturate(120%);
            border: 1px solid rgba(255, 255, 255, 0.6);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.05);
            border-radius: 2rem;
            position: relative;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .glass-input { background: rgba(255, 255, 255, 0.5); border: 1px solid rgba(255, 255, 255, 0.6); backdrop-filter: blur(10px); transition: all 0.3s ease; }
        .glass-input:focus { background: rgba(255, 255, 255, 0.9); border-color: #3b82f6; outline: none; }
        .nav-island { background: rgba(255, 255, 255, 0.75); backdrop-filter: blur(20px) saturate(180%); border: 1px solid rgba(255, 255, 255, 0.8); box-shadow: 0 10px 40px -10px rgba(0,0,0,0.1); }
        .modal-glass { background: rgba(255, 255, 255, 0.85); backdrop-filter: blur(50px) saturate(150%); border: 1px solid rgba(255,255,255,0.8); }
        .text-gradient-primary { background: linear-gradient(135deg, #2563eb 0%, #db2777 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        
        /* Orb Animations */
        .orb { position: fixed; border-radius: 50%; filter: blur(80px); z-index: -1; animation: blob 25s infinite alternate cubic-bezier(0.4, 0, 0.2, 1); opacity: 0.6; mix-blend-mode: multiply; }
        .orb-1 { top: -10%; left: -10%; width: 60vw; height: 60vw; background: #bae6fd; }
        .orb-2 { bottom: -20%; right: -10%; width: 70vw; height: 70vw; background: #e879f9; animation-delay: -5s; opacity: 0.4; }
        .orb-3 { top: 30%; right: 20%; width: 40vw; height: 40vw; background: #c4b5fd; animation-delay: -10s; opacity: 0.5; }
        .orb-4 { bottom: 10%; left: 10%; width: 50vw; height: 50vw; background: #67e8f9; animation-delay: -8s; opacity: 0.4; }
        
        /* Utils */
        .hide-scrollbar::-webkit-scrollbar { display: none; }
        .hide-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="antialiased selection:bg-pink-500 selection:text-white relative">

    <!-- Background Orbs -->
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>
    <div class="orb orb-3"></div>
    <div class="orb orb-4"></div>

    <main class="relative z-10 pt-24 pb-32 md:pb-0">
        <div class="w-full max-w-7xl mx-auto px-4 sm:px-6 space-y-12">

            <!-- 1. HERO SECTION -->
            <header class="text-center space-y-6 relative">
                <!-- Floating Icons -->
                <div class="absolute top-0 left-10 w-16 h-16 rounded-2xl bg-white/30 backdrop-blur-md border border-white/40 shadow-lg animate-float hidden lg:flex items-center justify-center text-3xl rotate-12">‚úàÔ∏è</div>
                <div class="absolute bottom-0 right-10 w-20 h-20 rounded-full bg-white/30 backdrop-blur-md border border-white/40 shadow-lg animate-float hidden lg:flex items-center justify-center text-4xl -rotate-12" style="animation-delay: 1s;" id="hero-flag">üè≥Ô∏è</div>

                <div class="inline-flex items-center gap-2 px-6 py-2 rounded-full glass-card !rounded-full !bg-white/40 border border-white/60 text-orange-600 font-bold tracking-widest text-xs uppercase mb-4 hover:scale-105 transition-transform cursor-default">
                    <span class="w-2 h-2 rounded-full bg-orange-500 animate-pulse"></span>
                    <span data-i18n="hero_badge">High Visa Success Rate</span>
                </div>

                <h1 class="text-5xl md:text-8xl font-black tracking-tighter leading-[0.95] text-slate-800 drop-shadow-sm">
                    <span data-i18n="hero_title_1" class="text-slate-500 text-2xl md:text-4xl block mb-2 font-bold tracking-normal">Launch Your Career in</span>
                    <span class="text-gradient-primary relative inline-block filter drop-shadow-lg" data-i18n="hero_title_2">
                        COUNTRY NAME
                        <svg class="absolute w-full h-4 -bottom-2 left-0 text-pink-400 opacity-80" viewBox="0 0 100 10" preserveAspectRatio="none"><path d="M0 5 Q 50 10 100 5" stroke="currentColor" stroke-width="3" fill="none" /></svg>
                    </span>
                </h1>

                <div class="glass-card max-w-2xl mx-auto p-6 md:p-8 transform hover:-translate-y-1 transition-transform">
                    <p class="text-base md:text-xl text-slate-600 font-medium leading-relaxed">
                        <span data-i18n="hero_subtitle">Generic subtitle description regarding the country's economic benefits.</span>
                    </p>
                </div>
            </header>

            <!-- 2. SEARCH SECTION -->
            <div id="job-search-section" class="sticky top-24 z-30 transition-all duration-300">
                <div class="glass-card p-2 md:p-3 !rounded-[2rem] shadow-2xl shadow-indigo-500/10">
                    <div class="relative flex items-center">
                        <div class="absolute left-6 text-indigo-500 text-xl pointer-events-none"><i class="fa-solid fa-magnifying-glass"></i></div>
                        <input type="text" id="pageSearchInput" class="w-full pl-16 pr-6 py-4 rounded-[1.5rem] glass-input text-slate-800 placeholder-slate-400 font-medium text-base md:text-lg" data-placeholder-i18n="search_placeholder" placeholder="Filter jobs..." onkeyup="filterPageJobs()">
                    </div>
                    <div class="mt-3 px-2 pb-2 flex gap-2 md:gap-3 overflow-x-auto hide-scrollbar" id="categoryChips"></div>
                </div>
                <div class="text-center mt-3">
                    <span id="jobCountLabel" class="inline-block px-4 py-1 rounded-full bg-white/50 backdrop-blur-sm text-xs font-bold text-indigo-600 uppercase tracking-widest border border-white/50 shadow-sm">Loading...</span>
                </div>
            </div>

            <!-- 3. JOBS GRID -->
            <div id="jobContainer" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6 perspective-1000"></div>

            <!-- 4. PROCESS TIMELINE -->
            <section id="process" class="py-8 md:py-10">
                <div class="text-center mb-12">
                    <span class="text-purple-600 font-bold tracking-[0.3em] text-xs uppercase mb-3 block" data-i18n="section_process_badge">Methodology</span>
                    <h2 class="text-3xl md:text-5xl font-extrabold text-slate-800 mb-2" data-i18n="section_process_title">Step-by-Step</h2>
                </div>
                <div class="relative max-w-5xl mx-auto">
                    <div class="absolute left-4 md:left-8 top-0 bottom-0 w-1 bg-gradient-to-b from-indigo-500 via-pink-500 to-transparent opacity-30 rounded-full"></div>
                    <div id="timelineContainer" class="space-y-8 md:space-y-12"></div>
                </div>
            </section>

            <!-- 5. PRICING SECTION -->
            <section id="pricing" class="pt-8 pb-0 md:pt-12 relative">
                <div class="reveal-item max-w-4xl mx-auto">
                    <div class="glass-card p-1 relative overflow-hidden group">
                        <div class="bg-white/40 backdrop-blur-3xl rounded-[1.8rem] p-6 md:p-14 relative z-10 border border-white/60 h-full">
                            <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-6">
                                <div>
                                    <div class="inline-block px-4 py-1 rounded-full bg-orange-100/80 text-orange-600 text-xs font-black uppercase tracking-widest mb-4 border border-orange-200" data-i18n="offer_tag">Pay Later Plan</div>
                                    <h3 class="text-3xl md:text-5xl font-black text-slate-800 tracking-tight mb-2" data-i18n="offer_title">Visa Success Model</h3>
                                </div>
                                <div class="text-right">
                                    <p class="text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-r from-slate-800 to-slate-600 tracking-tighter" id="pricing-total">‚Ç¨0,000</p>
                                    <p class="text-xs text-orange-500 font-bold mt-2 uppercase" data-i18n="offer_total">Total Package Cost</p>
                                </div>
                            </div>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                                <div class="glass-card !bg-white/50 p-6 flex justify-between items-center hover:bg-white/70">
                                    <span class="text-xs text-slate-500 font-bold uppercase tracking-wide" data-i18n="offer_split_1">At Sign-up</span>
                                    <span class="text-3xl font-black text-slate-800" id="pricing-split-1">‚Ç¨000</span>
                                </div>
                                <div class="glass-card !bg-orange-50/50 p-6 flex justify-between items-center hover:bg-orange-50/80 border-orange-200/50">
                                    <span class="text-xs text-orange-600 font-bold uppercase tracking-wide" data-i18n="offer_split_2">After Visa</span>
                                    <span class="text-3xl font-black text-orange-600" id="pricing-split-2">‚Ç¨0,000</span>
                                </div>
                            </div>

                            <div class="text-center">
                                <a href="#" target="_blank" class="inline-block w-full md:w-auto px-12 py-5 rounded-2xl bg-gradient-to-r from-orange-500 to-red-600 text-white font-bold text-lg shadow-xl shadow-orange-500/30 hover:shadow-orange-500/50 hover:-translate-y-1 hover:scale-105 transition-all duration-300 relative overflow-hidden group">
                                    <span class="relative z-10 flex items-center gap-2 justify-center"><span data-i18n="btn_select_plan">Select Plan</span> <i class="fa-solid fa-arrow-right"></i></span>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- DESKTOP DOCK (Hidden on Mobile) -->
    <div class="hidden md:flex fixed bottom-6 left-0 right-0 z-50 justify-center pointer-events-none">
        <div class="pointer-events-auto flex items-center gap-3 p-2 rounded-full nav-island shadow-2xl animate-fade-in-up">
            
            <!-- Language Toggle -->
            <div class="relative group">
                <button id="lang-toggle-btn" onclick="toggleLanguageDropdown(event)" class="w-14 h-14 rounded-full flex items-center justify-center bg-white/50 hover:bg-white text-slate-600 hover:text-indigo-600 transition-colors border border-white shadow-sm">
                    <i class="fa-solid fa-globe text-xl"></i>
                </button>
                <div id="language-dropdown" class="absolute bottom-full left-0 mb-4 w-48 p-2 rounded-2xl modal-glass opacity-0 invisible transition-all duration-300 transform translate-y-4 origin-bottom-left flex flex-col gap-1">
                     <button onclick="setLanguage('en', this)" class="lang-option w-full text-left px-4 py-2 rounded-xl hover:bg-white/60 text-sm font-bold text-slate-700 flex justify-between active">English <span class="opacity-50">EN</span></button>
                     <button onclick="setLanguage('ml', this)" class="lang-option w-full text-left px-4 py-2 rounded-xl hover:bg-white/60 text-sm font-bold text-slate-700 flex justify-between">‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç <span class="opacity-50">ML</span></button>
                     <button onclick="setLanguage('hi', this)" class="lang-option w-full text-left px-4 py-2 rounded-xl hover:bg-white/60 text-sm font-bold text-slate-700 flex justify-between">‡§π‡§ø‡§Ç‡§¶‡•Ä <span class="opacity-50">HI</span></button>
                </div>
            </div>

            <!-- Apply Button -->
            <a href="#" id="desktop-apply-btn" class="h-14 px-8 rounded-full bg-gradient-to-r from-red-500 to-pink-600 text-white font-bold flex items-center gap-3 shadow-lg shadow-pink-500/30 hover:scale-105 hover:shadow-pink-500/50 transition-all">
                <span class="uppercase tracking-widest text-sm" data-i18n="modal_apply">Apply Now</span>
                <i class="fa-solid fa-paper-plane"></i>
            </a>

            <!-- WhatsApp Button -->
            <a href="#" id="desktop-whatsapp-btn" class="w-14 h-14 rounded-full flex items-center justify-center bg-white/50 hover:bg-[#25D366] text-[#25D366] hover:text-white transition-colors border border-white shadow-sm">
                <i class="fa-brands fa-whatsapp text-2xl"></i>
            </a>
        </div>
    </div>

    <!-- MOBILE DOCK (Visible only on mobile) -->
    <div class="fixed bottom-6 left-1/2 -translate-x-1/2 w-[90%] max-w-sm z-50 md:hidden animate-fade-in-up">
        <div class="glass-card !bg-white/90 backdrop-blur-xl p-1.5 rounded-full shadow-2xl border border-white/60 flex justify-between items-center gap-1 relative z-50">
            
            <a href="index.html" class="flex-1 group flex flex-col items-center justify-center py-2 rounded-full bg-slate-50/80 hover:bg-slate-100 text-slate-600 transition-all active:scale-95">
                <i class="fa-solid fa-house text-lg mb-0.5"></i>
                <span class="text-[9px] font-bold uppercase tracking-wide leading-none">Home</span>
            </a>

            <button onclick="toggleMobileLanguage()" class="flex-1 group flex flex-col items-center justify-center py-2 rounded-full bg-blue-50/80 hover:bg-blue-100 text-blue-600 transition-all active:scale-95">
                <i class="fa-solid fa-language text-lg mb-0.5"></i>
                <span class="text-[9px] font-bold uppercase tracking-wide leading-none">Lang</span>
            </button>

            <a href="#" id="mobile-apply-btn" class="flex-1 group flex flex-col items-center justify-center py-2 rounded-full bg-gradient-to-r from-indigo-600 to-purple-600 text-white shadow-lg shadow-purple-500/30 transition-all active:scale-95">
                <i class="fa-solid fa-paper-plane text-lg mb-0.5"></i>
                <span class="text-[9px] font-bold uppercase tracking-wide leading-none">Apply</span>
            </a>

            <a href="#" id="mobile-whatsapp-btn" class="flex-1 group flex flex-col items-center justify-center py-2 rounded-full bg-gradient-to-r from-emerald-500 to-green-600 text-white shadow-lg shadow-green-500/30 transition-all active:scale-95">
                <i class="fa-brands fa-whatsapp text-xl mb-0.5"></i>
                <span class="text-[9px] font-bold uppercase tracking-wide leading-none">Chat</span>
            </a>

        </div>

        <!-- Mobile Language Menu (Bottom Sheet) -->
        <div id="mobile-language-menu" class="absolute bottom-[calc(100%+16px)] left-0 w-full p-4 rounded-[2rem] bg-white/90 backdrop-blur-xl border border-white/50 shadow-2xl opacity-0 invisible transition-all duration-300 transform translate-y-10 origin-bottom z-40">
            <div class="flex justify-between items-center mb-4 pb-2 border-b border-slate-100">
                <span class="text-sm font-bold text-slate-800 uppercase tracking-widest pl-2">Select Language</span>
                <button onclick="toggleMobileLanguage()" class="w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-slate-500 hover:bg-slate-200"><i class="fa-solid fa-xmark"></i></button>
            </div>
            <div class="grid grid-cols-2 gap-2 max-h-[40vh] overflow-y-auto">
                <button onclick="setLanguage('en'); toggleMobileLanguage()" class="w-full text-left p-3 rounded-2xl bg-slate-50 hover:bg-indigo-50 border border-slate-100 text-slate-700 text-xs font-bold flex items-center gap-2 transition-colors"><span class="text-lg">üá¨üáß</span> English</button>
                <button onclick="setLanguage('ml'); toggleMobileLanguage()" class="w-full text-left p-3 rounded-2xl bg-slate-50 hover:bg-indigo-50 border border-slate-100 text-slate-700 text-xs font-bold flex items-center gap-2 transition-colors"><span class="text-lg">üáÆüá≥</span> Malayalam</button>
                <button onclick="setLanguage('hi'); toggleMobileLanguage()" class="w-full text-left p-3 rounded-2xl bg-slate-50 hover:bg-indigo-50 border border-slate-100 text-slate-700 text-xs font-bold flex items-center gap-2 transition-colors"><span class="text-lg">üáÆüá≥</span> Hindi</button>
            </div>
        </div>
    </div>

    <!-- JOB DETAILS MODAL -->
    <div id="jobModal" class="fixed inset-0 z-[100] hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
        <div class="absolute inset-0 bg-slate-900/40 backdrop-blur-md transition-opacity" onclick="closeModal()"></div>
        <div class="absolute inset-0 z-10 overflow-y-auto">
            <div class="flex min-h-full items-center justify-center p-4 text-center sm:p-0">
                <div class="relative transform overflow-hidden rounded-[2.5rem] modal-glass text-left shadow-2xl transition-all sm:my-8 w-full max-w-lg">
                    <div class="relative bg-gradient-to-r from-indigo-600 to-purple-600 p-8 overflow-hidden">
                        <button onclick="closeModal()" class="absolute top-6 right-6 w-10 h-10 rounded-full bg-white/20 hover:bg-white/40 text-white flex items-center justify-center transition backdrop-blur-md"><i class="fa-solid fa-xmark"></i></button>
                        <h3 id="modalTitle" class="text-3xl font-black text-white relative z-10 mb-2">Job Title</h3>
                        <span id="modalDept" class="inline-block px-3 py-1 rounded-lg bg-black/20 text-white/90 text-xs font-bold uppercase tracking-wider backdrop-blur-sm">Category</span>
                    </div>
                    <div class="p-8 space-y-6 bg-white/60">
                         <div class="flex items-center justify-between p-4 rounded-2xl bg-white/50 border border-white/60 shadow-sm">
                            <div>
                                <p class="text-[10px] text-slate-500 font-bold uppercase tracking-widest mb-1" data-i18n="modal_salary">Monthly Salary</p>
                                <p id="modalSalary" class="text-xl font-black text-indigo-600">‚Ç¨0</p>
                            </div>
                            <div class="text-right">
                                <p class="text-[10px] text-slate-500 font-bold uppercase tracking-widest mb-1" data-i18n="modal_loc">Location</p>
                                <span class="px-3 py-1 rounded-full bg-red-50 text-red-600 text-xs font-bold border border-red-100" id="modalLocTag">Country</span>
                            </div>
                        </div>
                        <div>
                            <h4 class="text-xs font-bold text-slate-400 uppercase tracking-widest mb-4 border-b border-slate-200 pb-2" data-i18n="modal_docs">Requirements</h4>
                            <div id="modalDocs" class="grid gap-3"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- MAIN JAVASCRIPT LOGIC -->
    <script>
        // ==========================================
        // 1. PAGE CONFIGURATION (Edit this per page)
        // ==========================================
        const countryConfig = {
            name: "Country Name",
            flag: "üè≥Ô∏è", 
            currency: "‚Ç¨",
            pricing: { total: "‚Ç¨4,500", split1: "‚Ç¨500", split2: "‚Ç¨4,000" },
            formLink: "#",
            whatsapp: "#"
        };

        // Initialize Page Static Data
        document.getElementById('hero-flag').innerText = countryConfig.flag;
        document.getElementById('pricing-total').innerText = countryConfig.pricing.total;
        document.getElementById('pricing-split-1').innerText = countryConfig.pricing.split1;
        document.getElementById('pricing-split-2').innerText = countryConfig.pricing.split2;
        document.getElementById('modalLocTag').innerText = countryConfig.name + " " + countryConfig.flag;

        // Apply links to Desktop Dock
        document.getElementById('desktop-apply-btn').href = countryConfig.formLink;
        document.getElementById('desktop-whatsapp-btn').href = countryConfig.whatsapp;
        
        // Apply links to Mobile Dock
        document.getElementById('mobile-apply-btn').href = countryConfig.formLink;
        document.getElementById('mobile-whatsapp-btn').href = countryConfig.whatsapp;

        // ==========================================
        // 2. DATASETS (Jobs & Translations)
        // ==========================================
        
        // Job Listing Data
        const jobsData = [
            { i18n_id: "job_construction", i18n_dept: "cat_cons", cat: "Construction", euro: "‚Ç¨600 - ‚Ç¨1200", icon: "fa-solid fa-trowel-bricks", color: "text-orange-500", bg: "bg-orange-50" },
            { i18n_id: "job_truck", i18n_dept: "cat_logi", cat: "Logistics", euro: "‚Ç¨800 - ‚Ç¨1500", icon: "fa-solid fa-truck", color: "text-blue-500", bg: "bg-blue-50" },
            { i18n_id: "job_welder", i18n_dept: "cat_trade", cat: "Skilled Trade", euro: "‚Ç¨900 - ‚Ç¨1400", icon: "fa-solid fa-fire-burner", color: "text-red-500", bg: "bg-red-50" },
        ];

        // Translations Object
        const translations = {
            en: {
                hero_badge: "High Visa Success Rate", 
                hero_title_1: "Launch Your Career in", 
                hero_title_2: countryConfig.name.toUpperCase(),
                hero_subtitle: "EU Candidate Country with rapid economic growth. Strong demand for workers.",
                search_placeholder: "Filter jobs (e.g. Welder, Hotel)...",
                offer_tag: "Pay Later Plan", offer_title: "Visa Success Model", offer_total: "Total Package Cost",
                offer_split_1: "At Sign-up", offer_split_2: "After Visa", btn_select_plan: "Select Plan",
                modal_salary: "Monthly Gross Salary", modal_loc: "Location", modal_docs: "Required Documents", modal_apply: "Apply Now",
                cat_all: "All Jobs", cat_cons: "Construction", cat_logi: "Logistics", cat_trade: "Skilled Trade",
                job_construction: "Construction Worker", job_truck: "Truck Driver", job_welder: "Welder",
                step_01_title: "Job Offer", step_01_desc: "Obtain a signed employment contract from employer.",
                step_02_title: "Work Permit", step_02_desc: "Employer applies for work permit.",
                step_03_title: "Visa App", step_03_desc: "Apply at Embassy (Processing 30-45 days).",
                doc_passport: "Valid Passport", doc_contract: "Employment Contract"
            },
            // Add other languages here (ml, hi, etc.)
        };

        // Timeline Steps
        const timelineData = [
            { step: "1", key: "step_01_title", descKey: "step_01_desc" },
            { step: "2", key: "step_02_title", descKey: "step_02_desc" },
            { step: "3", key: "step_03_title", descKey: "step_03_desc" }
        ];

        // ==========================================
        // 3. GLOBAL HEADER & FOOTER INJECTION
        // ==========================================
        
        const GLOBAL_HEADER = `
        <nav class="fixed top-2 md:top-4 left-0 right-0 z-50 flex justify-center px-2 md:px-4" id="navbar-container">
            <div class="glass-card w-full max-w-7xl px-3 py-2 md:px-5 md:py-2 flex justify-between items-center transition-all duration-300 min-h-[60px]" id="navbar">
                <a href="#home" class="flex items-center gap-2 group px-1">
                    <div class="w-10 h-10 rounded-xl flex items-center justify-center bg-white/60 backdrop-blur-md overflow-hidden p-1 flex-shrink-0 border border-white/50">
                        <img src="https://raw.githubusercontent.com/thebettercall/app/9ca2db3d96700f0412c9f2f420422ed1ccfb52bb/Bettercall%20Logo%20SVG%2003.svg" alt="Better Call Logo" class="w-full h-full object-contain">
                    </div>
                    <div class="block leading-tight"> 
                        <h1 class="font-bold text-slate-800 text-base md:text-lg tracking-wide group-hover:text-indigo-600 transition-colors">BETTER CALL</h1>
                        <p class="text-[10px] md:text-xs font-bold text-amber-500 uppercase tracking-[0.2em]">Immigration</p>
                    </div>
                </a>
                <div class="hidden lg:flex items-center gap-1">
                    <a href="index.html" class="px-4 py-2 text-sm text-slate-600 hover:text-indigo-600 font-bold transition rounded-full hover:bg-white/50">Home</a>
                    <a href="assessment.html" class="px-4 py-2 text-sm text-slate-600 hover:text-indigo-600 font-bold transition rounded-full hover:bg-white/50">Free Assessment</a>
                </div>
                <!-- Search Icon Button -->
                 <div class="flex items-center gap-2 px-1">
                    <button class="group p-2 rounded-full hover:bg-white/50 transition-all duration-300 relative">
                        <i class="fa-solid fa-magnifying-glass text-slate-400 group-hover:text-indigo-600 text-xl"></i>
                    </button>
                </div>
            </div>
        </nav>`;

        const GLOBAL_FOOTER = `
        <footer class="mt-0 border-t border-white/20 relative z-10 backdrop-blur-[2px] hidden md:block">
            <div class="border-t border-white/20 py-8 text-center text-xs text-slate-500 font-medium bg-white/10 backdrop-blur-sm">
                <div class="max-w-7xl mx-auto px-6 flex flex-col md:flex-row justify-between items-center gap-4">
                    <p>&copy; 2025 Better Call Immigration. All rights reserved.</p>
                </div>
            </div>
        </footer>`;

        document.body.insertAdjacentHTML('afterbegin', GLOBAL_HEADER);
        document.body.insertAdjacentHTML('beforeend', GLOBAL_FOOTER);


        // ==========================================
        // 4. CORE LOGIC (Filtering, Translation, Modals)
        // ==========================================

        let currentLang = 'en';
        let currentFilter = 'All';

        function t(key) {
            const langData = translations[currentLang] || translations['en'];
            return langData[key] || translations['en'][key] || key;
        }

        function renderCategoryChips() {
            const categories = [
                { id: "All", key: "cat_all" },
                { id: "Construction", key: "cat_cons" },
                { id: "Logistics", key: "cat_logi" },
                { id: "Skilled Trade", key: "cat_trade" }
            ];
            const container = document.getElementById('categoryChips');
            container.innerHTML = categories.map(cat => {
                const isActive = currentFilter === cat.id;
                const activeClass = "bg-slate-800 text-white shadow-lg";
                const inactiveClass = "bg-white/40 text-slate-600 hover:bg-white hover:text-indigo-600 hover:shadow-md border border-white/50";
                return `<button onclick="setCategory('${cat.id}')" class="px-5 py-2 rounded-full text-xs font-bold whitespace-nowrap transition-all ${isActive ? activeClass : inactiveClass}">${t(cat.key)}</button>`;
            }).join('');
        }

        function setCategory(catId) {
            currentFilter = catId;
            renderCategoryChips();
            filterPageJobs();
        }

        function filterPageJobs() {
            const query = document.getElementById('pageSearchInput').value.toLowerCase();
            const container = document.getElementById('jobContainer');
            
            const filtered = jobsData.filter(job => {
                const title = t(job.i18n_id).toLowerCase();
                const matchesSearch = title.includes(query);
                const matchesCat = currentFilter === 'All' || job.cat === currentFilter;
                return matchesSearch && matchesCat;
            });

            document.getElementById('jobCountLabel').innerText = `${filtered.length} Positions Available`;
            
            if(filtered.length === 0) {
                container.innerHTML = `<div class="col-span-full py-20 text-center text-slate-400 font-medium">No jobs found.</div>`;
                return;
            }

            container.innerHTML = filtered.map((job, index) => `
                <div class="glass-card group p-6 cursor-pointer flex flex-col justify-between min-h-[220px]" onclick="openJobModal(${index})" data-tilt>
                    <div class="flex justify-between items-start mb-6">
                        <div class="w-14 h-14 rounded-2xl ${job.bg} ${job.color} flex items-center justify-center text-2xl shadow-sm border border-white/60"><i class="${job.icon}"></i></div>
                        <span class="text-[10px] font-bold uppercase tracking-widest text-slate-400 bg-white/40 px-2 py-1 rounded-md border border-white/30">${t(job.i18n_dept)}</span>
                    </div>
                    <div>
                        <h4 class="text-xl font-extrabold text-slate-800 group-hover:text-transparent group-hover:bg-clip-text group-hover:bg-gradient-to-r group-hover:from-indigo-600 group-hover:to-pink-600 transition-colors">${t(job.i18n_id)}</h4>
                        <div class="flex items-center gap-2 mt-4 text-slate-500 font-medium text-sm">
                            <span class="bg-white/40 px-3 py-1 rounded-lg border border-white/30">${job.euro}</span>
                        </div>
                    </div>
                </div>`).join('');
            
            if(typeof VanillaTilt !== 'undefined') VanillaTilt.init(document.querySelectorAll("[data-tilt]"));
        }

        function renderTimeline() {
            const container = document.getElementById('timelineContainer');
            container.innerHTML = timelineData.map((item) => `
                <div class="relative pl-16 md:pl-24 group reveal-item">
                    <div class="glass-card p-6 md:p-8 hover:bg-white/40 transition-colors text-left">
                        <div class="absolute top-4 right-4 text-6xl font-black text-white/20 select-none z-0">0${item.step}</div>
                        <h3 class="text-xl font-bold text-slate-800 relative z-10 mb-2">${t(item.key)}</h3>
                        <p class="text-slate-600 leading-relaxed relative z-10">${t(item.descKey)}</p>
                    </div>
                    <div class="absolute left-4 md:left-8 top-1/2 -translate-y-1/2 -translate-x-1/2 w-8 h-8 rounded-full bg-white border-4 border-indigo-100 shadow-lg z-20 flex items-center justify-center">
                        <div class="w-3 h-3 bg-gradient-to-r from-indigo-500 to-pink-500 rounded-full animate-pulse"></div>
                    </div>
                </div>
            `).join('');
            observeReveals();
        }

        // DESKTOP Toggle
        function toggleLanguageDropdown(event) {
            const menu = document.getElementById('language-dropdown');
            menu.classList.toggle('invisible');
            menu.classList.toggle('opacity-0');
            menu.classList.toggle('translate-y-4');
        }

        // MOBILE Toggle
        function toggleMobileLanguage() {
            const menu = document.getElementById('mobile-language-menu');
            if (menu.classList.contains('invisible')) {
                menu.classList.remove('invisible', 'opacity-0', 'translate-y-10');
            } else {
                menu.classList.add('invisible', 'opacity-0', 'translate-y-10');
            }
        }

        function setLanguage(lang) {
            currentLang = lang;
            renderCategoryChips();
            filterPageJobs();
            renderTimeline();
            // Update static elements
            document.querySelectorAll('[data-i18n]').forEach(el => el.innerHTML = t(el.getAttribute('data-i18n')));
        }

        function openJobModal(index) {
            // Re-filter to find correct index
            const query = document.getElementById('pageSearchInput').value.toLowerCase();
            const filtered = jobsData.filter(job => {
                const title = t(job.i18n_id).toLowerCase();
                const matchesSearch = title.includes(query);
                const matchesCat = currentFilter === 'All' || job.cat === currentFilter;
                return matchesSearch && matchesCat;
            });
            const job = filtered[index];
            if(!job) return;

            document.getElementById('modalTitle').innerText = t(job.i18n_id);
            document.getElementById('modalDept').innerText = t(job.i18n_dept);
            document.getElementById('modalSalary').innerText = job.euro;
            
            // Render Docs in Modal
            const documentsData = [
                { key: "doc_passport", icon: "fa-solid fa-passport", color: "text-indigo-500" },
                { key: "doc_contract", icon: "fa-solid fa-file-signature", color: "text-orange-500" }
            ];
            document.getElementById('modalDocs').innerHTML = documentsData.map(doc => `
                <div class="flex items-center gap-4 p-3 rounded-xl bg-slate-50 border border-slate-100">
                    <div class="w-8 h-8 rounded-full bg-white flex items-center justify-center shadow-sm ${doc.color}"><i class="${doc.icon}"></i></div>
                    <span class="text-sm font-bold text-slate-700">${t(doc.key)}</span>
                </div>
            `).join('');

            document.getElementById('jobModal').classList.remove('hidden');
        }

        function closeModal() { document.getElementById('jobModal').classList.add('hidden'); }

        function observeReveals() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if(entry.isIntersecting) {
                        entry.target.classList.add('animate-float');
                        observer.unobserve(entry.target);
                    }
                });
            });
            document.querySelectorAll('.reveal-item').forEach(el => observer.observe(el));
        }

        // Init
        document.addEventListener('DOMContentLoaded', () => {
            if (typeof Lenis !== 'undefined') {
                const lenis = new Lenis({ duration: 1.2, smooth: true });
                function raf(time) { lenis.raf(time); requestAnimationFrame(raf); }
                requestAnimationFrame(raf);
            }
            renderCategoryChips();
            filterPageJobs();
            renderTimeline();
        });
    </script>
</body>
</html>